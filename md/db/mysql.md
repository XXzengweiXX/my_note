# 索引未命中原因

1. 带有条件语句or，只要其中一个or条件中不含索引，都会不命中；
2. like以%开头；
3. 字段为字符串类型，条件中数据为int类型，隐式转换，不会命中索引；
4. 不是联合索引的最左字段；
5. 对字段进行is null判断不会，is not null会命中；
6. 使用not in ,not exist不会命中；

# 三范式

1. 原子性：字段不可分
2. 唯一性：有主键，非主键依赖于主键
3. 非主键不可相互依赖

# 事务的隔离级别

1. 读取未提交内容：所有事务都可以读取其他未提交事务的结果
2. 读取提交内容：一个事务只能读取已提交的事务所做的改变,解决脏读
3. 重复读取内容（默认级别）：一个事务的多个实例并发读取数据时，可看到相同的数据行,解决脏读与不可重复读
4. 可串行：在每个都的数据行上加上共享锁,解决脏读,不可重复读与幻读

# 事务的基本要素

1. 原子性：要么全做完，要么没做
2. 一致性：事务的前后，数据库的完整性约束没被破坏
3. 隔离性：事务之间彼此不干扰
4. 持久性：事务完成后，所有数据更新到数据库，不可回滚

# 事务的并发问题

1. **脏读**:事务A读取了事务B更新的数据，然后B回滚操作，那么A读取到的数据是脏数据
2. **不可重复读取**:事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果 不一致
3. **幻读**:系统管理员A将数据库中所有学生的成绩从具体分数改为ABCDE等级，但是系统管理员B就在这个时候插入了一条具体分数的记录，当系统管理员A改结束后发现还有一条记录没有改过来，就好像发生了幻觉一样，这就叫幻读

**注**:不可重复读的和幻读很容易混淆，不可重复读侧重于修改，幻读侧重于新增或删除。解决不可重复读的问题只需锁住满足条件的行，解决幻读需要锁表

# explain说明解释

1. id：序列号，越大越优先执行
2. select_type:select子句类型
3. table:所访问的表
4. type：访问方式，ALL、index、range、 ref、eq_ref、const、system、NULL（从左到右，性能从差到好）
5. possible_keys:可能用到的索引
6. keys：实际用到的索引
7. key_len:表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度
8. ref:列与索引的比较，表示上述表的连接匹配条件，即哪些列或常量被用于查找索引列上的值
9. rows:估算出结果集行数，表示MySQL根据表统计信息及索引选用情况，估算的找到所需的记录所需要读取的行数
10. extra:该列包含MySQL解决查询的详细信息